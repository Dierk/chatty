apply from: "$rootDir/gradle/integrationTest.gradle"

buildscript {
    repositories {
        jcenter()
    }
}

task gruntTest(type: GruntTask) {
    group = "Verification"
    description = "Runs the Jasmine tests."
    gruntArgs = "test"

    inputs.dir "[relative-path-to-source]"
    inputs.file file("Gruntfile.js")
}

gruntTest.dependsOn ':com.toedter.chatty.server:startServerAsync'
task gruntIntegrationTest(dependsOn: [':com.toedter.chatty.server:stopServer',gruntTest] )

integrationTest.dependsOn gruntIntegrationTest;
gruntIntegrationTest.mustRunAfter ':com.toedter.chatty.server:integrationTest'

